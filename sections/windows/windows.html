<template class="task-template">
  <section id="windows-section" class="section js-section u-category-windows">
    <header class="section-header">
      <div class="section-wrapper">
        <h1>
          <svg class="section-icon"><use xlink:href="assets/img/icons.svg#icon-windows"></use></svg>
          ウィンドウの作成と管理
        </h1>
        <h3>Electronの <code>BrowserWindow</code> モジュールを使うことで、新しいブラウザーウィンドウを作成や既存のウィンドウを管理ができます。</h3>

        <p>各ブラウザーウィンドウはレンダラープロセスと呼ばれる個別のプロセスです。<br>
            このプロセスは、アプリのライフサイクルを制御するメインプロセスと同様に、Node.js APIへフルアクセスできます。
        </p>

        <p>ブラウザで<a href="http://electron.atom.io/docs/api/browser-window">APIドキュメント<span class="u-visible-to-screen-reader">(新しいウィンドウが開きます。)</span></a>を開きます。</p>
      </div>
    </header>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-demo-toggle" class="js-container-target demo-toggle-button">新しいウィンドウの作成
          <div class="demo-meta u-avoid-clicks">Supports: Win, macOS, Linux <span class="demo-meta-divider">|</span> Process: Main</div>
        </button>
        <div class="demo-box">
          <div class="demo-controls">
            <button class="demo-button" id="new-window">View Demo</button>
          </div>
          <p><code>BrowserWindow</code> モジュールを使用することで、新しいウィンドウが作成できます。<br>
            デモのように、メインプロセスモジュールは <code>remote</code> モジュールでレンダラープロセスから使用できます。
          </p>

          <p>ウィンドウ作成時に利用できるオプションがあります。<br>
            デモで使われているオプション以外に関しては<a href="http://electron.atom.io/docs/api/browser-window">ドキュメント<span class="u-visible-to-screen-reader">(新しいウィンドウが開きます。)</span></a>からご覧ください
          </p>
          <h5>レンダラープロセス</h5>
          <pre><code data-path="renderer-process/windows/create-window.js"></code></pre>

          <div class="demo-protip">
            <h2>ProTip</h2>
            <strong>バックグラウンドタスクを実行するには、非表示のウィンドウを使用する</strong>
            <p>アプリのバックグラウンドでJavaScriptを実行する一種の新しいスレッドとして追加のレンダラープロセスを使用するために、新しいウィンドウを非表示に設定できます。<br>
                <code>show</code>プロパティを<code>false</code>にすることで作成できます。</p>
            <pre>
<code class="language-js">var win = new BrowserWindow({
  width: 400, height: 225, show: false
})</code></pre>
          </div>
        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="manage-window-demo-toggle" class="js-container-target demo-toggle-button">ウィンドウの状態を管理
          <div class="demo-meta u-avoid-clicks">Supports: Win, macOS, Linux <span class="demo-meta-divider">|</span> Process: Main</div>
        </button>
        <div class="demo-box">
          <div class="demo-controls">
            <button class="demo-button" id="manage-window">View Demo</button>
            <span class="demo-response" id="manage-window-reply"></span>
          </div>
           <p>このデモでは、新しいウィンドウを作成し、ウィンドウの<code>move</code>と<code>resize</code>イベントリスナーを使用します。<br>
            デモボタンをクリックし、新しいウィンドウの大きさや位置を変えることで更新状態を確認してください。
          　</p>
          <p>サイズ、位置、フォーカス、ウィンドウ変更のイベントリスナーなど、ウィンドウの状態を制御するためのメソッドがあります。<br>
            詳しくは、<a href="http://electron.atom.io/docs/api/browser-window">ドキュメント<span class="u-visible-to-screen-reader">(新しいウィンドウが開きます。)</span></a>からご覧ください。</p>
          <h5>レンダラープロセス</h5>
          <pre><code data-path="renderer-process/windows/manage-window.js"></code></pre>
        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="using-window-events-demo-toggle" class="js-container-target demo-toggle-button">ウィンドウイベント: blurとfocus
          <div class="demo-meta u-avoid-clicks">Supports: Win, macOS, Linux <span class="demo-meta-divider">|</span> Process: Main</div>
        </button>
        <div class="demo-box">
          <div class="demo-controls">
            <button class="demo-button" id="listen-to-window">View Demo</button>
            <button  class="demo-button disappear" id="focus-on-modal-window">Focus on Demo</button>
          </div>
          <p>
            このデモでは、新しいウィンドウを作成し、<code>blur</code>イベントリスナーを使用します。<br>
            デモボタンをクリックして新しいウィンドウを作成し、親ウィンドウをクリックしてフォーカスを戻します。<br>
            <i>Focus on Demo</i>ボタンをクリックして、生成したウィンドウに再びフォーカスを切り替えることができます。
          </p>
          <h5>レンダラープロセス</h5>
          <pre><code data-path="renderer-process/windows/using-window-events.js"></code></pre>
        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button class="js-container-target demo-toggle-button">フレームレスウィンドウの作成
          <div class="demo-meta u-avoid-clicks">Supports: Win, macOS, Linux <span class="demo-meta-divider">|</span> Process: Main</div>
        </button>
        <div class="demo-box">
          <div class="demo-controls">
            <button class="demo-button" id="frameless-window">View Demo</button>
          </div>
          <p>
            フレームレスウィンドウとは、ツールバー、タイトルバー、ステータスバー、境界線など、<a href="https://developer.mozilla.org/ja/docs/Glossary/Chrome">「chrome」(クロム)</a>のないウィンドウです。<br>
            ウィンドウを作成するときに<code>frame</code>を<code>false</code>に設定することで、ウィンドウをフレームレスにすることができます。
          </p>

          <h5>レンダラープロセス</h5>
          <pre><code data-path="renderer-process/windows/frameless-window.js"></code></pre>

          <p>ウィンドウの背景も透明にすることができます。<br>
            <code>transparent</code>オプションを<code>true</code>に設定することで、フレームレスウィンドウを透明にすることもできます。
          </p>
          <pre>
<code class="language-js">var win = new BrowserWindow({
  transparent: true,
  frame: false
})</code></pre>

        <p>詳しくは、<a href="http://electron.atom.io/docs/api/frameless-window/">フレームレスウィンドウ</a>ドキュメントからご覧ください。</p>

        </div>
      </div>
    </div>

    <script type="text/javascript">
      require('./renderer-process/windows/create-window')
      require('./renderer-process/windows/manage-window')
      require('./renderer-process/windows/using-window-events')
      require('./renderer-process/windows/frameless-window')
    </script>

  </section>
</template>
