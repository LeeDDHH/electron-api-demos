<template class="task-template">
  <section id="crash-hang-section" class="section js-section u-category-windows">
    <header class="section-header">
      <div class="section-wrapper">
        <h1>
          <svg class="section-icon"><use xlink:href="assets/img/icons.svg#icon-windows"></use></svg>
          ハングとクラッシュのハンドリング
        </h1>
        <h3>
            <code>BrowserWindow</code>モジュールは、レンダラープロセスがクラッシュまたはハングしたときにイベントを発行します。<br>
            これらのイベントリスナーを使うことで、ユーザーに再読み込み、待機、またはウィンドウを閉じる選択肢が与えることができます。
        </h3>

        <p>ブラウザで<a href="http://electron.atom.io/docs/api/browser-window">APIドキュメント<span class="u-visible-to-screen-reader">(新しいウィンドウが開きます。)</span></a>を開きます。</p>
      </div>
    </header>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-crashes-demo-toggle" class="js-container-target demo-toggle-button">プロセスがクラッシュした後にウィンドウを再起動する
          <div class="demo-meta u-avoid-clicks">Supports: Win, macOS, Linux <span class="demo-meta-divider">|</span> Process: Main</div>
        </button>
        <div class="demo-box">
          <div class="demo-controls">
            <button class="demo-button" id="process-crash">View Demo</button>
          </div>
          <p>このデモでは、（<code>remote</code>モジュールを介して）新しいウィンドウを作成し、<code>process.crash()</code>を使って強制的にクラッシュさせます。</p>
          <p>ウィンドウのクラッシュイベントリスナーを使って、イベントが発生した時、リロードまたは閉じるという2つのオプションでプロンプ​​トを表示します。</p>

          <h5>レンダラープロセス</h5>
          <pre><code data-path="renderer-process/windows/process-crash.js"></code></pre>
        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-hangs-demo-toggle" class="js-container-target demo-toggle-button">プロセスがハングした後にウィンドウを再起動する
          <div class="demo-meta u-avoid-clicks">Supports: Win, macOS, Linux <span class="demo-meta-divider">|</span> Process: Main</div>
        </button>
        <div class="demo-box">
          <div class="demo-controls">
            <button class="demo-button" id="process-hang">View Demo</button>
          </div>
          <p>このデモでは、（<code>remote</code>モジュールを介して）新しいウィンドウを作成し、<code>process.hang()</code>を使って強制的にハングさせます。</p>
          <p>
            ウィンドウは、プロセスが正式に応答しなくなるまでを待機します。（これには最大30秒かかる場合があります）<br>
            イベントが発生すると、リロードまたは閉じるという2つのオプションでプロンプ​​トを表示します。
          </p>

          <h5>レンダラープロセス</h5>
          <pre><code data-path="renderer-process/windows/process-hang.js"></code></pre>

          <div class="demo-protip">
            <h2>ProTip</h2>
            <strong>プロセスが再び応答するまで待つ</strong>
            <p>
                プロセスがハングしている場合の第3のオプションは、待機して問題が解決するかどうかを確認し、再度プロセスが応答可能になるようにすることです。<br>
                オプションを使うためには、以下のように<code>BrowserWindow</code>イベントの'responsive'を使用します。
            </p>
            <pre><code class="language-js">win.on('responsive', function () {
  // ウィンドウが再び反応したときの処理
})</code></pre>
          </div>
        </div>
      </div>
    </div>



    <script type="text/javascript">
      require('./renderer-process/windows/process-crash')
      require('./renderer-process/windows/process-hang')
    </script>

  </section>
</template>
